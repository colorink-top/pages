import{demoData}from"../demo-data.js";const escapeHTML=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),generatorTocHtmlFn=t=>{if(!t||0===t.length)return"";let e=0;return t.map((t=>{const n=t.sectionLevel,o=t.title,a=t.page,r=t.link;let i=0,p=0,l=[];if(n>e)for(p=n-e,i=0;i<p;)i++,l.push("<ul>"),e++;else if(n<e)for(p=e-n,i=0;i<p;)i++,l.push("</ul>"),e--;return l=l.concat([`<li><div class="jopp-toc-item-text"><a href="${r}">`,escapeHTML(o),`</a><span class="jopp-toc-item-page">${a}</span></div>`]),l.join("")})).join("")+new Array(e+1).join("</ul>")},getDefaultMargin=t=>t||60;window.joppInit=async(t=demoData)=>{const{documentInfo:e,pdfInfo:n}=t,{outlines:o,width:a,height:r,margin:i}=n,p=document.documentElement;p.style.setProperty("--marginTop",getDefaultMargin(i.top)+"px"),p.style.setProperty("--marginRight",getDefaultMargin(i.right)+"px"),p.style.setProperty("--marginBottom",getDefaultMargin(i.bottom)+"px"),p.style.setProperty("--marginLeft",getDefaultMargin(i.left)+"px");const l=`\n       <div class="jopp-toc-title"></div>\n       <div class="jopp-toc-content">\n       ${generatorTocHtmlFn(o)}\n       </div>\n  `;document.querySelector(".toc-container").innerHTML=l},joppInit();